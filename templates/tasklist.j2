{% extends 'base.j2' %}

{%- block title %}Task List{% endblock -%}

{% block head %}
<style>

* {
    box-sizing: border-box;
}

#tasksDiv {
    margin-top: 5px;

    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    gap: 10px;

    max-width: 800px;
}

.task {
    background-color: white;
    text-decoration: none;
    color: black;

    border: 1px solid black;
    border-radius: 5px;
    padding: 5px;

    transition: scale 0.3s linear;

    flex: 1 0 15em;
}

.task:hover {
    transform: scale(1.03);
}

.description {
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;

    border-top: 1px solid black;
    padding-top: 5px;
    margin-top: 5px;

    word-wrap: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
}

</style>
{% endblock %}

{% block contents %}
    <form action="/task">
        <button type="submit">
            New Task
        </button>
    </form>

    <div id="tasksDiv">
        {% for task in tasks %}
            <a class="task" href="/task/{{ task.idx }}">
                <b>Deadline:</b>
                {{ task.deadline }}
                <div class="description">
                    {{- task.description -}}
                </div>
            </a>
        {% endfor %}
    </div>
{% endblock %}
